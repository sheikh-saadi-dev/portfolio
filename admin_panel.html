<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel â€” Sheikh Saadi Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root {
  --gold:#c9a84c; --gold-light:#e8c87a; --gold-dark:#9a7a2e;
  --ink:#080808; --surface:#0f0f0f; --surface2:#161616; --surface3:#1e1e1e;
  --muted:#777; --border:rgba(201,168,76,0.15); --text:#e8e8e8;
  --danger:#e85757; --success:#25d366; --radius:14px;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:"DM Sans",sans-serif;background:var(--ink);color:var(--text);min-height:100vh;display:flex}
h1,h2,h3,h4{font-family:"Syne",sans-serif}

/* LOGIN SCREEN */
#loginScreen{
  position:fixed;inset:0;z-index:9999;background:var(--ink);
  display:flex;align-items:center;justify-content:center;
  transition:opacity .5s ease,visibility .5s ease;
}
#loginScreen.hide{opacity:0;visibility:hidden;pointer-events:none}
.login-box{
  width:100%;max-width:420px;padding:48px 40px;
  background:var(--surface);border:1px solid var(--border);border-radius:24px;
  box-shadow:0 30px 80px rgba(0,0,0,0.6);text-align:center;
  animation:fadeUp .6s ease;
}
.login-logo{
  font-family:"Syne",sans-serif;font-weight:800;font-size:2rem;margin-bottom:8px;
  background:linear-gradient(135deg,var(--gold-light),var(--gold));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.login-sub{color:var(--muted);font-size:.88rem;margin-bottom:36px}
.login-field{margin-bottom:18px;text-align:left}
.login-field label{display:block;font-size:.8rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.login-field input{
  width:100%;padding:14px 18px;border:1px solid var(--border);border-radius:12px;
  background:var(--surface2);color:var(--text);font-family:"DM Sans",sans-serif;
  font-size:.95rem;outline:none;transition:border-color .3s,box-shadow .3s;
}
.login-field input:focus{border-color:rgba(201,168,76,0.5);box-shadow:0 0 0 3px rgba(201,168,76,0.08)}
.login-btn{
  width:100%;padding:15px;margin-top:8px;
  background:linear-gradient(135deg,var(--gold-light),var(--gold));
  color:var(--ink);border:none;border-radius:50px;font-weight:700;
  font-size:1rem;cursor:pointer;font-family:"DM Sans",sans-serif;
  transition:transform .2s,box-shadow .2s;
  box-shadow:0 6px 20px rgba(201,168,76,0.3);
}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 12px 32px rgba(201,168,76,0.4)}
.login-error{color:var(--danger);font-size:.85rem;margin-top:12px;display:none}

/* SIDEBAR */
.sidebar{
  width:260px;min-height:100vh;background:var(--surface);
  border-right:1px solid var(--border);display:flex;flex-direction:column;
  position:fixed;top:0;left:0;bottom:0;z-index:100;
  transition:transform .3s ease;
}
.sidebar-logo{
  padding:28px 24px 20px;border-bottom:1px solid var(--border);
}
.sidebar-logo .brand{font-family:"Syne",sans-serif;font-weight:800;font-size:1.2rem}
.sidebar-logo .brand span{color:var(--gold)}
.sidebar-logo .sub{font-size:.75rem;color:var(--muted);margin-top:2px}
.sidebar-nav{flex:1;padding:16px 0;overflow-y:auto}
.nav-group-label{
  font-size:.7rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;
  color:var(--muted);padding:12px 24px 6px;
}
.nav-item{
  display:flex;align-items:center;gap:12px;padding:12px 24px;
  cursor:pointer;transition:background .2s,color .2s;border-radius:0;
  font-size:.9rem;font-weight:500;color:var(--muted);position:relative;
}
.nav-item:hover{background:rgba(201,168,76,0.06);color:var(--text)}
.nav-item.active{background:rgba(201,168,76,0.1);color:var(--gold)}
.nav-item.active::before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--gold);border-radius:0 2px 2px 0}
.nav-item i{width:18px;text-align:center;font-size:.95rem}
.sidebar-footer{padding:20px 24px;border-top:1px solid var(--border)}
.logout-btn{
  display:flex;align-items:center;gap:10px;cursor:pointer;
  color:var(--muted);font-size:.88rem;font-weight:500;
  transition:color .2s;background:none;border:none;font-family:"DM Sans",sans-serif;
}
.logout-btn:hover{color:var(--danger)}

/* MAIN */
.main{margin-left:260px;flex:1;min-height:100vh;display:flex;flex-direction:column}

/* TOPBAR */
.topbar{
  position:sticky;top:0;z-index:50;
  background:rgba(8,8,8,0.9);backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);
  padding:16px 32px;display:flex;align-items:center;justify-content:space-between;
}
.topbar-title{font-family:"Syne",sans-serif;font-weight:700;font-size:1.1rem}
.topbar-right{display:flex;align-items:center;gap:16px}
.topbar-badge{
  display:flex;align-items:center;gap:8px;
  background:rgba(201,168,76,0.08);border:1px solid rgba(201,168,76,0.2);
  padding:7px 16px;border-radius:50px;font-size:.8rem;color:var(--gold);font-weight:600;
}
.topbar-badge .dot{width:7px;height:7px;border-radius:50%;background:var(--success);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.view-portfolio-btn{
  display:flex;align-items:center;gap:8px;
  background:transparent;border:1px solid rgba(201,168,76,0.3);
  color:var(--gold);padding:8px 18px;border-radius:50px;
  font-size:.82rem;font-weight:600;cursor:pointer;
  text-decoration:none;transition:background .2s;font-family:"DM Sans",sans-serif;
}
.view-portfolio-btn:hover{background:rgba(201,168,76,0.1)}

/* CONTENT */
.content{padding:32px;flex:1}
.page{display:none}
.page.active{display:block;animation:fadeUp .4s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}

/* PAGE HEADER */
.page-header{margin-bottom:28px}
.page-header h2{font-size:1.8rem;font-weight:800;margin-bottom:6px}
.page-header p{color:var(--muted);font-size:.9rem}

/* STAT CARDS */
.stats-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:28px}
.stat-card{
  background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);
  padding:24px;transition:border-color .3s,transform .2s;
}
.stat-card:hover{border-color:rgba(201,168,76,0.3);transform:translateY(-2px)}
.stat-card .sc-label{font-size:.78rem;color:var(--muted);text-transform:uppercase;letter-spacing:2px;margin-bottom:10px}
.stat-card .sc-num{font-family:"Syne",sans-serif;font-size:2.2rem;font-weight:800;background:linear-gradient(135deg,var(--gold-light),var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1}
.stat-card .sc-icon{font-size:1.4rem;color:rgba(201,168,76,0.3);margin-bottom:12px}

/* CARD PANEL */
.panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:24px}
.panel-head{
  padding:18px 24px;border-bottom:1px solid var(--border);
  display:flex;align-items:center;justify-content:space-between;
}
.panel-head h3{font-size:1rem;font-weight:700}
.panel-body{padding:24px}

/* BUTTON */
.btn{
  display:inline-flex;align-items:center;gap:8px;padding:10px 22px;
  border-radius:50px;font-weight:600;font-size:.85rem;cursor:pointer;
  border:none;font-family:"DM Sans",sans-serif;transition:transform .2s,box-shadow .2s,opacity .2s;
}
.btn-gold{background:linear-gradient(135deg,var(--gold-light),var(--gold));color:var(--ink);box-shadow:0 4px 16px rgba(201,168,76,0.25)}
.btn-gold:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(201,168,76,0.35)}
.btn-outline{background:transparent;border:1px solid rgba(201,168,76,0.3);color:var(--gold)}
.btn-outline:hover{background:rgba(201,168,76,0.08)}
.btn-danger{background:transparent;border:1px solid rgba(232,87,87,0.3);color:var(--danger)}
.btn-danger:hover{background:rgba(232,87,87,0.08)}
.btn-sm{padding:7px 16px;font-size:.78rem}

/* FORM */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.form-group{margin-bottom:18px}
.form-group label{display:block;font-size:.8rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.form-group input,.form-group textarea,.form-group select{
  width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:12px;
  background:var(--surface2);color:var(--text);font-family:"DM Sans",sans-serif;
  font-size:.92rem;outline:none;transition:border-color .3s,box-shadow .3s;
}
.form-group input:focus,.form-group textarea:focus,.form-group select:focus{
  border-color:rgba(201,168,76,0.5);box-shadow:0 0 0 3px rgba(201,168,76,0.08)
}
.form-group textarea{resize:vertical;min-height:90px}
.form-group select option{background:var(--surface2);color:var(--text)}

/* IMAGE UPLOAD */
.img-upload-area{
  border:2px dashed rgba(201,168,76,0.25);border-radius:14px;
  padding:36px 20px;text-align:center;cursor:pointer;
  transition:border-color .3s,background .3s;background:var(--surface2);
  position:relative;
}
.img-upload-area:hover,.img-upload-area.dragover{border-color:var(--gold);background:rgba(201,168,76,0.05)}
.img-upload-area input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.img-upload-area i{font-size:2rem;color:rgba(201,168,76,0.4);margin-bottom:10px;display:block}
.img-upload-area p{color:var(--muted);font-size:.88rem}
.img-upload-area span{color:var(--gold);font-weight:600}
.img-preview-wrap{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
.img-preview-item{
  position:relative;width:90px;height:70px;border-radius:10px;overflow:hidden;
  border:1px solid var(--border);
}
.img-preview-item img{width:100%;height:100%;object-fit:cover}
.img-preview-item .remove-img{
  position:absolute;top:4px;right:4px;width:20px;height:20px;
  background:rgba(0,0,0,0.7);border:none;border-radius:50%;cursor:pointer;
  color:#fff;font-size:.6rem;display:flex;align-items:center;justify-content:center;
}

/* PROJECTS TABLE */
.proj-table{width:100%;border-collapse:collapse}
.proj-table th{
  text-align:left;font-size:.75rem;font-weight:700;text-transform:uppercase;
  letter-spacing:2px;color:var(--muted);padding:10px 16px;
  border-bottom:1px solid var(--border);
}
.proj-table td{padding:14px 16px;border-bottom:1px solid rgba(201,168,76,0.06);vertical-align:middle}
.proj-table tr:last-child td{border-bottom:none}
.proj-table tr:hover td{background:rgba(201,168,76,0.03)}
.proj-thumb{width:56px;height:42px;border-radius:8px;object-fit:cover;border:1px solid var(--border)}
.proj-thumb-placeholder{width:56px;height:42px;border-radius:8px;background:var(--surface2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:.7rem}
.tag-badge{
  display:inline-block;background:rgba(201,168,76,0.1);color:var(--gold);
  font-size:.7rem;font-weight:700;padding:3px 10px;border-radius:50px;
  text-transform:uppercase;letter-spacing:1px;
}
.status-live{color:var(--success);font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:6px}
.status-live::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--success)}
.status-draft{color:var(--muted);font-size:.8rem;font-weight:600;display:flex;align-items:center;gap:6px}
.status-draft::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--muted)}
.actions-cell{display:flex;gap:8px;align-items:center}

/* MODAL */
.modal-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,0.75);z-index:500;
  display:flex;align-items:center;justify-content:center;padding:20px;
  opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;
  backdrop-filter:blur(4px);
}
.modal-overlay.open{opacity:1;visibility:visible}
.modal-box{
  background:var(--surface);border:1px solid var(--border);border-radius:24px;
  width:100%;max-width:640px;max-height:90vh;overflow-y:auto;
  transform:translateY(20px);transition:transform .3s;
}
.modal-overlay.open .modal-box{transform:translateY(0)}
.modal-head{
  padding:24px 28px;border-bottom:1px solid var(--border);
  display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;background:var(--surface);z-index:1;
}
.modal-head h3{font-size:1.2rem;font-weight:800}
.modal-close{background:none;border:none;color:var(--muted);cursor:pointer;font-size:1.2rem;padding:4px;transition:color .2s}
.modal-close:hover{color:var(--text)}
.modal-body{padding:28px}
.modal-footer{padding:20px 28px;border-top:1px solid var(--border);display:flex;gap:12px;justify-content:flex-end}

/* TOAST */
.toast-wrap{position:fixed;bottom:28px;right:28px;z-index:9000;display:flex;flex-direction:column;gap:10px}
.toast{
  background:var(--surface);border:1px solid var(--border);border-radius:14px;
  padding:14px 20px;display:flex;align-items:center;gap:12px;
  box-shadow:0 12px 40px rgba(0,0,0,0.4);min-width:260px;
  animation:toastIn .35s ease;font-size:.9rem;font-weight:500;
}
.toast.success{border-color:rgba(37,211,102,0.3)} .toast.success .t-icon{color:var(--success)}
.toast.error{border-color:rgba(232,87,87,0.3)} .toast.error .t-icon{color:var(--danger)}
.toast.info{border-color:rgba(201,168,76,0.3)} .toast.info .t-icon{color:var(--gold)}
@keyframes toastIn{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}

/* GRID LAYOUT for dashboard */
.dash-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:1100px){.dash-grid{grid-template-columns:1fr}}

/* MOBILE HAMBURGER */
.mob-toggle{display:none;background:none;border:none;color:var(--text);font-size:1.3rem;cursor:pointer;padding:4px}
.sidebar-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:99}

/* EMPTY STATE */
.empty-state{text-align:center;padding:48px 20px;color:var(--muted)}
.empty-state i{font-size:2.5rem;margin-bottom:14px;display:block;opacity:.3}
.empty-state p{font-size:.9rem}

/* CHAR COUNTER */
.char-count{font-size:.75rem;color:var(--muted);text-align:right;margin-top:4px}

@media(max-width:768px){
  .sidebar{transform:translateX(-100%)}
  .sidebar.open{transform:translateX(0)}
  .sidebar-overlay.show{display:block}
  .main{margin-left:0}
  .mob-toggle{display:block}
  .form-row{grid-template-columns:1fr}
  .content{padding:20px}
  .dash-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginScreen">
  <div class="login-box">
    <div class="login-logo">S.Saadi</div>
    <div class="login-sub">Portfolio Admin Panel</div>
    <div class="login-field">
      <label>Username</label>
      <input type="text" id="loginUser" placeholder="admin" autocomplete="username">
    </div>
    <div class="login-field">
      <label>Password</label>
      <input type="password" id="loginPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password" onkeydown="if(event.key==='Enter')doLogin()">
    </div>
    <button class="login-btn" onclick="doLogin()"><i class="fas fa-sign-in-alt"></i> Login to Dashboard</button>
    <div class="login-error" id="loginError">Invalid username or password</div>
  </div>
</div>

<!-- SIDEBAR OVERLAY (mobile) -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

<!-- SIDEBAR -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="brand">S<span>.</span>Saadi</div>
    <div class="sub">Admin Dashboard</div>
  </div>
  <nav class="sidebar-nav">
    <div class="nav-group-label">Main</div>
    <div class="nav-item active" onclick="showPage('dashboard',this)"><i class="fas fa-th-large"></i> Dashboard</div>
    <div class="nav-item" onclick="showPage('projects',this)"><i class="fas fa-folder-open"></i> Projects</div>
    <div class="nav-item" onclick="showPage('add-project',this)"><i class="fas fa-plus-circle"></i> Add Project</div>
    <div class="nav-group-label" style="margin-top:12px">Settings</div>
    <div class="nav-item" onclick="showPage('settings',this)"><i class="fas fa-sliders-h"></i> Profile Info</div>
    <div class="nav-item" onclick="showPage('security',this)"><i class="fas fa-lock"></i> Security</div>
  </nav>
  <div class="sidebar-footer">
    <button class="logout-btn" onclick="doLogout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
  </div>
</aside>

<!-- MAIN -->
<div class="main">
  <!-- TOPBAR -->
  <div class="topbar">
    <div style="display:flex;align-items:center;gap:14px">
      <button class="mob-toggle" onclick="openSidebar()"><i class="fas fa-bars"></i></button>
      <span class="topbar-title" id="topbarTitle">Dashboard</span>
    </div>
    <div class="topbar-right">
      <div class="topbar-badge"><div class="dot"></div>Live</div>
      <a href="portfolio_sheikh_saadi_v2.html" target="_blank" class="view-portfolio-btn"><i class="fas fa-external-link-alt"></i> View Portfolio</a>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="content">

    <!-- DASHBOARD PAGE -->
    <div class="page active" id="page-dashboard">
      <div class="page-header">
        <h2>Welcome back, Saadi ðŸ‘‹</h2>
        <p>Here's your portfolio overview</p>
      </div>
      <div class="stats-row" id="statsRow">
        <div class="stat-card"><div class="sc-icon"><i class="fas fa-folder"></i></div><div class="sc-label">Total Projects</div><div class="sc-num" id="statTotal">0</div></div>
        <div class="stat-card"><div class="sc-icon"><i class="fas fa-eye"></i></div><div class="sc-label">Live Projects</div><div class="sc-num" id="statLive">0</div></div>
        <div class="stat-card"><div class="sc-icon"><i class="fas fa-drafting-compass"></i></div><div class="sc-label">Drafts</div><div class="sc-num" id="statDraft">0</div></div>
        <div class="stat-card"><div class="sc-icon"><i class="fas fa-tags"></i></div><div class="sc-label">Categories</div><div class="sc-num" id="statCats">0</div></div>
      </div>
      <div class="dash-grid">
        <div class="panel">
          <div class="panel-head">
            <h3><i class="fas fa-clock" style="color:var(--gold);margin-right:8px"></i>Recent Projects</h3>
            <button class="btn btn-outline btn-sm" onclick="showPage('add-project',null)"><i class="fas fa-plus"></i> Add New</button>
          </div>
          <div class="panel-body" id="recentProjPanel">
            <div class="empty-state"><i class="fas fa-folder-open"></i><p>No projects yet. Add your first one!</p></div>
          </div>
        </div>
        <div class="panel">
          <div class="panel-head"><h3><i class="fas fa-info-circle" style="color:var(--gold);margin-right:8px"></i>Quick Guide</h3></div>
          <div class="panel-body">
            <div style="display:flex;flex-direction:column;gap:16px">
              <div style="display:flex;gap:14px;align-items:flex-start">
                <div style="width:32px;height:32px;border-radius:50%;background:rgba(201,168,76,0.1);display:flex;align-items:center;justify-content:center;color:var(--gold);flex-shrink:0;font-weight:700;font-size:.85rem">1</div>
                <div><div style="font-weight:600;margin-bottom:3px">Add a Project</div><div style="color:var(--muted);font-size:.85rem">Go to "Add Project" to upload screenshots & fill in details.</div></div>
              </div>
              <div style="display:flex;gap:14px;align-items:flex-start">
                <div style="width:32px;height:32px;border-radius:50%;background:rgba(201,168,76,0.1);display:flex;align-items:center;justify-content:center;color:var(--gold);flex-shrink:0;font-weight:700;font-size:.85rem">2</div>
                <div><div style="font-weight:600;margin-bottom:3px">Manage Projects</div><div style="color:var(--muted);font-size:.85rem">Edit or delete projects from the "Projects" page anytime.</div></div>
              </div>
              <div style="display:flex;gap:14px;align-items:flex-start">
                <div style="width:32px;height:32px;border-radius:50%;background:rgba(201,168,76,0.1);display:flex;align-items:center;justify-content:center;color:var(--gold);flex-shrink:0;font-weight:700;font-size:.85rem">3</div>
                <div><div style="font-weight:600;margin-bottom:3px">Export Portfolio Data</div><div style="color:var(--muted);font-size:.85rem">Use Settings to update your contact info and profile details.</div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PROJECTS PAGE -->
    <div class="page" id="page-projects">
      <div class="page-header" style="display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;gap:12px">
        <div><h2>All Projects</h2><p>Manage and organize your portfolio projects</p></div>
        <button class="btn btn-gold" onclick="showPage('add-project',null)"><i class="fas fa-plus"></i> Add New Project</button>
      </div>
      <!-- Filter -->
      <div style="display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap">
        <button class="btn btn-sm btn-gold" onclick="filterProjects('all',this)" id="filterAll">All</button>
        <button class="btn btn-sm btn-outline" onclick="filterProjects('live',this)">Live</button>
        <button class="btn btn-sm btn-outline" onclick="filterProjects('draft',this)">Draft</button>
      </div>
      <div class="panel">
        <div class="panel-body" style="padding:0;overflow-x:auto">
          <div id="projectsTableWrap"></div>
        </div>
      </div>
    </div>

    <!-- ADD PROJECT PAGE -->
    <div class="page" id="page-add-project">
      <div class="page-header">
        <h2 id="addProjTitle">Add New Project</h2>
        <p>Fill in the details and upload a screenshot</p>
      </div>
      <div class="panel">
        <div class="panel-body">
          <input type="hidden" id="editingId">
          <div class="form-row">
            <div class="form-group">
              <label>Project Title *</label>
              <input type="text" id="projTitle" placeholder="e.g. Spice Garden Restaurant" maxlength="60" oninput="updateCharCount(this,'titleCount',60)">
              <div class="char-count"><span id="titleCount">0</span>/60</div>
            </div>
            <div class="form-group">
              <label>Category *</label>
              <select id="projCategory">
                <option value="">Select category...</option>
                <option value="Restaurant">Restaurant</option>
                <option value="Beauty Salon">Beauty Salon</option>
                <option value="Fitness">Fitness</option>
                <option value="Real Estate">Real Estate</option>
                <option value="Education">Education</option>
                <option value="E-commerce">E-commerce</option>
                <option value="Business">Business</option>
                <option value="Healthcare">Healthcare</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Short Description *</label>
            <textarea id="projDesc" placeholder="Briefly describe what this project does and what technologies were used..." maxlength="200" oninput="updateCharCount(this,'descCount',200)"></textarea>
            <div class="char-count"><span id="descCount">0</span>/200</div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Live Demo URL</label>
              <input type="url" id="projUrl" placeholder="https://example.com">
            </div>
            <div class="form-group">
              <label>Status</label>
              <select id="projStatus">
                <option value="live">Live</option>
                <option value="draft">Draft</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Project Screenshot</label>
            <div class="img-upload-area" id="uploadArea" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event)">
              <input type="file" id="imgInput" accept="image/*" onchange="handleImageSelect(event)">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Drag & drop or <span>click to upload</span></p>
              <p style="font-size:.78rem;margin-top:4px">PNG, JPG, WEBP â€” Max 5MB</p>
            </div>
            <div class="img-preview-wrap" id="imgPreviewWrap"></div>
          </div>
          <div style="display:flex;gap:12px;justify-content:flex-end;margin-top:8px">
            <button class="btn btn-outline" onclick="cancelEdit()">Cancel</button>
            <button class="btn btn-gold" onclick="saveProject()"><i class="fas fa-save"></i> Save Project</button>
          </div>
        </div>
      </div>
    </div>

    <!-- SETTINGS PAGE -->
    <div class="page" id="page-settings">
      <div class="page-header"><h2>Profile Info</h2><p>Update your contact details displayed on the portfolio</p></div>
      <div class="panel">
        <div class="panel-body">
          <div class="form-row">
            <div class="form-group"><label>Full Name</label><input type="text" id="sName" value="Sheikh Saadi"></div>
            <div class="form-group"><label>Title</label><input type="text" id="sTitle" value="Landing Page Developer"></div>
          </div>
          <div class="form-row">
            <div class="form-group"><label>WhatsApp Number</label><input type="text" id="sWA" value="+880 1646-635420"></div>
            <div class="form-group"><label>Email</label><input type="email" id="sEmail" value="sheikhsaadi@email.com"></div>
          </div>
          <div class="form-group"><label>Tagline / Bio</label><textarea id="sBio" style="min-height:80px">I build high-converting, responsive landing pages for local businesses.</textarea></div>
          <div style="display:flex;gap:12px;justify-content:flex-end">
            <button class="btn btn-gold" onclick="saveSettings()"><i class="fas fa-save"></i> Save Changes</button>
          </div>
        </div>
      </div>
    </div>

    <!-- SECURITY PAGE -->
    <div class="page" id="page-security">
      <div class="page-header"><h2>Security</h2><p>Change your admin password</p></div>
      <div class="panel" style="max-width:480px">
        <div class="panel-body">
          <div class="form-group"><label>Current Password</label><input type="password" id="curPass" placeholder="Enter current password"></div>
          <div class="form-group"><label>New Password</label><input type="password" id="newPass" placeholder="Enter new password"></div>
          <div class="form-group"><label>Confirm New Password</label><input type="password" id="conPass" placeholder="Confirm new password"></div>
          <div style="display:flex;justify-content:flex-end">
            <button class="btn btn-gold" onclick="changePassword()"><i class="fas fa-lock"></i> Update Password</button>
          </div>
        </div>
      </div>
    </div>

  </div><!-- /content -->
</div><!-- /main -->

<!-- EDIT MODAL -->
<div class="modal-overlay" id="editModal">
  <div class="modal-box">
    <div class="modal-head">
      <h3>Edit Project</h3>
      <button class="modal-close" onclick="closeModal()"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-body">
      <div class="form-row">
        <div class="form-group"><label>Project Title *</label><input type="text" id="mTitle" maxlength="60"></div>
        <div class="form-group"><label>Category *</label>
          <select id="mCategory">
            <option value="Restaurant">Restaurant</option><option value="Beauty Salon">Beauty Salon</option>
            <option value="Fitness">Fitness</option><option value="Real Estate">Real Estate</option>
            <option value="Education">Education</option><option value="E-commerce">E-commerce</option>
            <option value="Business">Business</option><option value="Healthcare">Healthcare</option><option value="Other">Other</option>
          </select>
        </div>
      </div>
      <div class="form-group"><label>Description *</label><textarea id="mDesc" style="min-height:80px" maxlength="200"></textarea></div>
      <div class="form-row">
        <div class="form-group"><label>Live Demo URL</label><input type="url" id="mUrl" placeholder="https://..."></div>
        <div class="form-group"><label>Status</label><select id="mStatus"><option value="live">Live</option><option value="draft">Draft</option></select></div>
      </div>
      <div class="form-group">
        <label>Change Screenshot (optional)</label>
        <div class="img-upload-area" style="padding:20px">
          <input type="file" id="mImgInput" accept="image/*" onchange="handleModalImage(event)">
          <i class="fas fa-image"></i>
          <p style="font-size:.85rem">Click to replace screenshot</p>
        </div>
        <div id="mImgPreview" style="margin-top:12px"></div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" onclick="closeModal()">Cancel</button>
      <button class="btn btn-gold" onclick="updateProject()"><i class="fas fa-save"></i> Save Changes</button>
    </div>
  </div>
</div>

<!-- DELETE CONFIRM MODAL -->
<div class="modal-overlay" id="deleteModal">
  <div class="modal-box" style="max-width:420px">
    <div class="modal-head"><h3>Delete Project</h3><button class="modal-close" onclick="closeDeleteModal()"><i class="fas fa-times"></i></button></div>
    <div class="modal-body" style="text-align:center;padding:36px 28px">
      <i class="fas fa-trash-alt" style="font-size:3rem;color:var(--danger);margin-bottom:16px;display:block"></i>
      <h3 style="margin-bottom:8px">Are you sure?</h3>
      <p style="color:var(--muted);font-size:.9rem">This will permanently delete "<span id="deleteProjectName" style="color:var(--text);font-weight:600"></span>"</p>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" onclick="closeDeleteModal()">Cancel</button>
      <button class="btn btn-danger" onclick="confirmDelete()"><i class="fas fa-trash"></i> Delete</button>
    </div>
  </div>
</div>

<!-- TOAST CONTAINER -->
<div class="toast-wrap" id="toastWrap"></div>

<script>
// ============================================================
// AUTH
// ============================================================
const CREDS = { user: 'admin', pass: 'saadi1234' };

function doLogin() {
  const u = document.getElementById('loginUser').value.trim();
  const p = document.getElementById('loginPass').value;
  if (u === CREDS.user && p === CREDS.pass) {
    document.getElementById('loginScreen').classList.add('hide');
    toast('Welcome back, Saadi!', 'success');
    renderDashboard();
  } else {
    document.getElementById('loginError').style.display = 'block';
    document.getElementById('loginPass').style.borderColor = 'var(--danger)';
    setTimeout(() => { document.getElementById('loginPass').style.borderColor = ''; }, 2000);
  }
}

function doLogout() {
  document.getElementById('loginScreen').classList.remove('hide');
  document.getElementById('loginUser').value = '';
  document.getElementById('loginPass').value = '';
  document.getElementById('loginError').style.display = 'none';
}

let adminPass = 'saadi1234';
function changePassword() {
  const cur = document.getElementById('curPass').value;
  const np  = document.getElementById('newPass').value;
  const cp  = document.getElementById('conPass').value;
  if(cur !== adminPass) { toast('Current password is incorrect','error'); return; }
  if(np.length < 6)     { toast('New password must be at least 6 characters','error'); return; }
  if(np !== cp)         { toast('Passwords do not match','error'); return; }
  adminPass = np; CREDS.pass = np;
  ['curPass','newPass','conPass'].forEach(id => document.getElementById(id).value = '');
  toast('Password updated successfully!','success');
}

// ============================================================
// NAV / PAGES
// ============================================================
function showPage(pageId, navEl) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  document.getElementById('page-' + pageId).classList.add('active');
  if(navEl) navEl.classList.add('active');
  else {
    document.querySelectorAll('.nav-item').forEach(n => {
      if(n.textContent.toLowerCase().includes(pageId.replace('-',' '))) n.classList.add('active');
    });
  }
  const titles = { dashboard:'Dashboard', projects:'All Projects', 'add-project':'Add Project', settings:'Profile Info', security:'Security' };
  document.getElementById('topbarTitle').textContent = titles[pageId] || pageId;
  if(pageId === 'projects') renderProjectsTable();
  if(pageId === 'dashboard') renderDashboard();
  if(pageId === 'add-project') resetAddForm();
  closeSidebar();
}

// ============================================================
// DATA STORE (localStorage)
// ============================================================
function getProjects() {
  try { return JSON.parse(localStorage.getItem('ss_projects') || '[]'); } catch(e){ return []; }
}
function saveProjects(arr) { localStorage.setItem('ss_projects', JSON.stringify(arr)); }

// ============================================================
// DASHBOARD
// ============================================================
function renderDashboard() {
  const projects = getProjects();
  const live  = projects.filter(p => p.status === 'live').length;
  const draft = projects.filter(p => p.status === 'draft').length;
  const cats  = [...new Set(projects.map(p => p.category))].length;
  document.getElementById('statTotal').textContent = projects.length;
  document.getElementById('statLive').textContent  = live;
  document.getElementById('statDraft').textContent = draft;
  document.getElementById('statCats').textContent  = cats;

  const panel = document.getElementById('recentProjPanel');
  const recent = projects.slice(-4).reverse();
  if(!recent.length) {
    panel.innerHTML = '<div class="empty-state"><i class="fas fa-folder-open"></i><p>No projects yet. Add your first one!</p></div>';
    return;
  }
  panel.innerHTML = recent.map(p => `
    <div style="display:flex;align-items:center;gap:14px;padding:10px 0;border-bottom:1px solid rgba(201,168,76,0.06)">
      ${p.image
        ? `<img src="${p.image}" style="width:52px;height:40px;border-radius:8px;object-fit:cover;border:1px solid var(--border);flex-shrink:0">`
        : `<div style="width:52px;height:40px;border-radius:8px;background:var(--surface2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:.7rem;flex-shrink:0"><i class="fas fa-image"></i></div>`
      }
      <div style="flex:1;min-width:0">
        <div style="font-weight:600;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${p.title}</div>
        <div style="color:var(--muted);font-size:.78rem">${p.category}</div>
      </div>
      <div class="status-${p.status}">${p.status === 'live' ? 'Live' : 'Draft'}</div>
    </div>
  `).join('');
}

// ============================================================
// PROJECTS TABLE
// ============================================================
function renderProjectsTable(filter = 'all') {
  let projects = getProjects();
  if(filter !== 'all') projects = projects.filter(p => p.status === filter);
  const wrap = document.getElementById('projectsTableWrap');
  if(!projects.length) {
    wrap.innerHTML = '<div class="empty-state" style="padding:48px"><i class="fas fa-folder-open"></i><p>No projects found.</p></div>';
    return;
  }
  wrap.innerHTML = `
    <table class="proj-table">
      <thead><tr>
        <th>Screenshot</th><th>Title</th><th>Category</th><th>Status</th><th>Actions</th>
      </tr></thead>
      <tbody>
        ${projects.map(p => `
          <tr>
            <td>${p.image ? `<img src="${p.image}" class="proj-thumb">` : `<div class="proj-thumb-placeholder"><i class="fas fa-image"></i></div>`}</td>
            <td style="max-width:200px"><div style="font-weight:600;font-size:.9rem">${p.title}</div><div style="color:var(--muted);font-size:.78rem;margin-top:2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:180px">${p.desc}</div></td>
            <td><span class="tag-badge">${p.category}</span></td>
            <td><div class="status-${p.status}">${p.status === 'live' ? 'Live' : 'Draft'}</div></td>
            <td>
              <div class="actions-cell">
                ${p.url ? `<a href="${p.url}" target="_blank" class="btn btn-sm btn-outline" title="View Demo"><i class="fas fa-external-link-alt"></i></a>` : ''}
                <button class="btn btn-sm btn-outline" onclick="openEditModal(${p.id})" title="Edit"><i class="fas fa-pen"></i></button>
                <button class="btn btn-sm btn-danger" onclick="openDeleteModal(${p.id})" title="Delete"><i class="fas fa-trash"></i></button>
              </div>
            </td>
          </tr>
        `).join('')}
      </tbody>
    </table>`;
}

let currentFilter = 'all';
function filterProjects(type, btn) {
  currentFilter = type;
  document.querySelectorAll('[onclick^="filterProjects"]').forEach(b => {
    b.className = 'btn btn-sm btn-outline';
  });
  btn.className = 'btn btn-sm btn-gold';
  renderProjectsTable(type);
}

// ============================================================
// ADD PROJECT
// ============================================================
let currentImage = null;

function resetAddForm() {
  document.getElementById('editingId').value = '';
  document.getElementById('addProjTitle').textContent = 'Add New Project';
  ['projTitle','projDesc','projUrl'].forEach(id => document.getElementById(id).value = '');
  document.getElementById('projCategory').value = '';
  document.getElementById('projStatus').value = 'live';
  document.getElementById('imgPreviewWrap').innerHTML = '';
  document.getElementById('titleCount').textContent = '0';
  document.getElementById('descCount').textContent = '0';
  currentImage = null;
}

function cancelEdit() {
  resetAddForm();
  showPage('projects', document.querySelectorAll('.nav-item')[1]);
}

function updateCharCount(el, countId, max) {
  document.getElementById(countId).textContent = el.value.length;
}

function handleImageSelect(e) {
  const file = e.target.files[0];
  if(!file) return;
  if(file.size > 5 * 1024 * 1024) { toast('Image too large (max 5MB)', 'error'); return; }
  const reader = new FileReader();
  reader.onload = ev => {
    currentImage = ev.target.result;
    document.getElementById('imgPreviewWrap').innerHTML = `
      <div class="img-preview-item">
        <img src="${currentImage}">
        <button class="remove-img" onclick="removeImage()"><i class="fas fa-times"></i></button>
      </div>`;
  };
  reader.readAsDataURL(file);
}

function removeImage() { currentImage = null; document.getElementById('imgPreviewWrap').innerHTML = ''; document.getElementById('imgInput').value = ''; }

function handleDragOver(e) { e.preventDefault(); document.getElementById('uploadArea').classList.add('dragover'); }
function handleDragLeave(e) { document.getElementById('uploadArea').classList.remove('dragover'); }
function handleDrop(e) {
  e.preventDefault(); document.getElementById('uploadArea').classList.remove('dragover');
  const file = e.dataTransfer.files[0];
  if(!file || !file.type.startsWith('image/')) { toast('Please drop an image file', 'error'); return; }
  const reader = new FileReader();
  reader.onload = ev => {
    currentImage = ev.target.result;
    document.getElementById('imgPreviewWrap').innerHTML = `
      <div class="img-preview-item">
        <img src="${currentImage}">
        <button class="remove-img" onclick="removeImage()"><i class="fas fa-times"></i></button>
      </div>`;
  };
  reader.readAsDataURL(file);
}

function saveProject() {
  const title    = document.getElementById('projTitle').value.trim();
  const category = document.getElementById('projCategory').value;
  const desc     = document.getElementById('projDesc').value.trim();
  const url      = document.getElementById('projUrl').value.trim();
  const status   = document.getElementById('projStatus').value;
  const editId   = document.getElementById('editingId').value;

  if(!title)    { toast('Please enter a project title', 'error'); return; }
  if(!category) { toast('Please select a category', 'error'); return; }
  if(!desc)     { toast('Please add a description', 'error'); return; }

  const projects = getProjects();

  if(editId) {
    const idx = projects.findIndex(p => p.id === parseInt(editId));
    if(idx !== -1) {
      projects[idx] = { ...projects[idx], title, category, desc, url, status, image: currentImage || projects[idx].image, updatedAt: Date.now() };
      saveProjects(projects);
      toast('Project updated successfully!', 'success');
    }
  } else {
    const newProj = { id: Date.now(), title, category, desc, url, status, image: currentImage, createdAt: Date.now() };
    projects.push(newProj);
    saveProjects(projects);
    toast('Project added successfully!', 'success');
  }
  resetAddForm();
  showPage('projects', document.querySelectorAll('.nav-item')[1]);
}

// ============================================================
// EDIT MODAL
// ============================================================
let editingId = null;
let modalImage = null;

function openEditModal(id) {
  const projects = getProjects();
  const p = projects.find(proj => proj.id === id);
  if(!p) return;
  editingId = id;
  modalImage = p.image || null;
  document.getElementById('mTitle').value    = p.title;
  document.getElementById('mCategory').value = p.category;
  document.getElementById('mDesc').value     = p.desc;
  document.getElementById('mUrl').value      = p.url || '';
  document.getElementById('mStatus').value   = p.status;
  document.getElementById('mImgPreview').innerHTML = p.image
    ? `<img src="${p.image}" style="width:80px;height:60px;object-fit:cover;border-radius:8px;border:1px solid var(--border)">`
    : '';
  document.getElementById('editModal').classList.add('open');
}

function handleModalImage(e) {
  const file = e.target.files[0];
  if(!file) return;
  if(file.size > 5 * 1024 * 1024) { toast('Image too large (max 5MB)','error'); return; }
  const reader = new FileReader();
  reader.onload = ev => {
    modalImage = ev.target.result;
    document.getElementById('mImgPreview').innerHTML = `<img src="${modalImage}" style="width:80px;height:60px;object-fit:cover;border-radius:8px;border:1px solid var(--border)">`;
  };
  reader.readAsDataURL(file);
}

function updateProject() {
  const title    = document.getElementById('mTitle').value.trim();
  const category = document.getElementById('mCategory').value;
  const desc     = document.getElementById('mDesc').value.trim();
  const url      = document.getElementById('mUrl').value.trim();
  const status   = document.getElementById('mStatus').value;
  if(!title)    { toast('Title is required','error'); return; }
  if(!category) { toast('Category is required','error'); return; }
  if(!desc)     { toast('Description is required','error'); return; }
  const projects = getProjects();
  const idx = projects.findIndex(p => p.id === editingId);
  if(idx !== -1) {
    projects[idx] = { ...projects[idx], title, category, desc, url, status, image: modalImage || projects[idx].image, updatedAt: Date.now() };
    saveProjects(projects);
    renderProjectsTable(currentFilter);
    renderDashboard();
    toast('Project updated!', 'success');
  }
  closeModal();
}

function closeModal() {
  document.getElementById('editModal').classList.remove('open');
  editingId = null; modalImage = null;
  document.getElementById('mImgInput').value = '';
}

// ============================================================
// DELETE
// ============================================================
let deletingId = null;
function openDeleteModal(id) {
  const projects = getProjects();
  const p = projects.find(proj => proj.id === id);
  if(!p) return;
  deletingId = id;
  document.getElementById('deleteProjectName').textContent = p.title;
  document.getElementById('deleteModal').classList.add('open');
}
function closeDeleteModal() { document.getElementById('deleteModal').classList.remove('open'); deletingId = null; }
function confirmDelete() {
  let projects = getProjects();
  projects = projects.filter(p => p.id !== deletingId);
  saveProjects(projects);
  renderProjectsTable(currentFilter);
  renderDashboard();
  closeDeleteModal();
  toast('Project deleted', 'info');
}

// ============================================================
// SETTINGS
// ============================================================
function saveSettings() {
  const info = {
    name:  document.getElementById('sName').value,
    title: document.getElementById('sTitle').value,
    wa:    document.getElementById('sWA').value,
    email: document.getElementById('sEmail').value,
    bio:   document.getElementById('sBio').value,
  };
  localStorage.setItem('ss_profile', JSON.stringify(info));
  toast('Profile info saved!', 'success');
}

// ============================================================
// MOBILE SIDEBAR
// ============================================================
function openSidebar()  { document.getElementById('sidebar').classList.add('open'); document.getElementById('sidebarOverlay').classList.add('show'); }
function closeSidebar() { document.getElementById('sidebar').classList.remove('open'); document.getElementById('sidebarOverlay').classList.remove('show'); }

// ============================================================
// TOAST
// ============================================================
function toast(msg, type = 'info') {
  const icons = { success:'fa-check-circle', error:'fa-exclamation-circle', info:'fa-info-circle' };
  const wrap = document.getElementById('toastWrap');
  const t = document.createElement('div');
  t.className = `toast ${type}`;
  t.innerHTML = `<i class="fas ${icons[type]} t-icon"></i><span>${msg}</span>`;
  wrap.appendChild(t);
  setTimeout(() => { t.style.opacity='0'; t.style.transform='translateX(20px)'; t.style.transition='.3s ease'; setTimeout(()=>t.remove(),350); }, 3200);
}

// Close modals on overlay click
document.getElementById('editModal').addEventListener('click', e => { if(e.target===document.getElementById('editModal')) closeModal(); });
document.getElementById('deleteModal').addEventListener('click', e => { if(e.target===document.getElementById('deleteModal')) closeDeleteModal(); });
</script>
</body>
</html>